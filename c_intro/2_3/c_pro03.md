# いろんな演算と型

これまでのプログラム学習では足し算と引き算を行うことがありましたね．
パソコンではそれだけでなく掛け算や割り算．割り算のあまりを出すなど様々な計算ができます．

型についてもこの回では学習していきます．今までは整数を扱う`int`型を使っていきました．
これからは浮動小数点（2.222，1.54のような少数点が含まれている数）を扱える`float`型，`double`型．
文字データ（Hello Worldのような文字）を扱える`char`型などがあります．
これについても学習していきましょう．

## いろいろな演算

数学などでよく使われる四則演算があると思いまがC言語でもそれらを使うことができます．

| 演算子 | 機能 |
| :- | :- |
| + 演算子 | a + b aとbの和 |
| - 演算子 | a - b aとbの差 |
| * 演算子 | a * b aとbの積 |
| / 演算子 | a / b aをbで割った商 |
| % 演算子 | a % b aをbで割った余り |

上表のような演算子があり数学と同じく計算に優先順序があります．乗除算は加減算よりも優先的に計算されます．数学と順番は同じですね！

数学と同じように`()`を付けることで特定の演算を優先的に計算することもできます．

各々の演算子の使用方法は下の[arithmetic_operations_int.c](arithmetic_operations_int.c)のように使用します．

```c
#include <stdio.h>

int main(void)
{
    int x, y;   //変数の宣言

    puts("2つの整数を入力してください．");
    printf("x：");  scanf("%d", &x);
    printf("y：");  scanf("%d", &y);

    printf("x + y = %d\n", x + y);  //和
    printf("x - y = %d\n", x - y);  //差
    printf("x * y = %d\n", x * y);  //積
    printf("x / y = %d\n", x / y);  //商 xをyで割った商（整数型の場合小数点以下は切り捨て）
    printf("x %% y = %d\n", x % y); //乗除 xをyで割った余り

    return 0;
}
```

実際実行してみると

```shell
2つの整数を入力してください．
x：10
y：3
x + y = 13
x - y = 7
x * y = 30
x / y = 3
x % y = 1
```

となる．

### `int`型の小数点の扱い

下の[division_int.c](division_int.c)を実行して4/3のように計算してみてください．

本来なら小数点が出るはずですが`int`型は整数しか扱うことができないので小数点は切り捨てされています．

```c
#include <stdio.h>

int main(void)
{
    int x, y;   //変数の宣言

    puts("2つの整数を入力してください．");
    printf("x：");  scanf("%d", &x);
    printf("y：");  scanf("%d", &y);

    printf("%dを%dで割った商は%d余り%d\n", x, y, x / y,x % y);
    //商 xをyで割った商（整数型の場合小数点以下は切り捨て）
    
    return 0;
}
```

### 符号を反転させる

下のプログラムは入力した値の符号を反転させて表示します．

```c
#include <stdio.h>

int main(void)
{
    int n;

    printf("整数を入力してください：");
    scanf("%d",&n);

    printf("符号を反転すると%d\n",-n);  //変数にマイナスを付けることで符号が反転する．
    
    return 0;
}
```

このように変数1つにつけて計算するときの演算子を単項演算子とよぶ．

## 型

これまでは整数だけを使用できる`int`型を使用してきました．`int`型では小数点数を表示したり利用することができません．

利用するためには下表にある`float`型や`double`型を利用するのが一般的です．

| 型 | キーワード | 使用ビット数 |
| :- | :- | :- |
| 文字データ | char | 8ビット |
| 符号付き整数 | int | 16ビット |
| 浮動小数点数 | float | 32ビット |
| 倍精度浮動小数点数 | double | 64ビット |
| 値なし | void | なし |

ここで先程の演算変数の宣言を`float`型に変更した[arithmetic_operations_float.c](arithmetic_operations_float.c)を用意した．余りを求めている行がなくなっているが，これは少数点数では余りを求めることはできないためです．

```c
# include <stdio.h>

int main(void)
{
    float x, y;   //float型の変数の宣言

    puts("2つの数を入力してください．");
    printf("x：");  scanf("%f", &x);
    printf("y：");  scanf("%f", &y);

    printf("x + y = %f\n", x + y);  //和
    printf("x - y = %f\n", x - y);  //差
    printf("x * y = %f\n", x * y);  //積
    printf("x / y = %f\n", x / y);  //商 xをyで割った商
    //余りは少数点数では求められないためなし

    return 0;
}
```

実際実行してみると

```shell
2つの数を入力してください．
x：10
y：3
x + y = 13.000000
x - y = 7.000000
x * y = 30.000000
x / y = 3.333333
```

このようになり小数点以下6桁まで計算されていることがわかる．

### それぞれの型の使い分け

上では`float`型を実行してもらったがプログラムを見てみると宣言が`float`になっていたり，`%d`だったところが`%f`になっていることがわかる．

その他の型もそれぞれ違いがあるのでここで取り上げる．

* 宣言の方法
  
```c
int a;
float b;
double c;
```

* `scanf`での使い方

```c
scanf("%d",&a);     //int型
scanf("%f",&b);     //float型
scanf("%lf",&c);    //double型
```

* `printf`での使い方

```c
printf("int型 %d\n",a);
printf("float型 %f\n",b);
printf("double型 %lf\n",c);
```

### 表示する数の長さ

表示する際少数点以下6桁も必要ない，2桁で十分だというときがある．そのような場合は下のようにすることで小数点以下の表示を調節することができる．

```c
#include <stdio.h>

int main(void)
{
    printf("%f\n"123.456);      //デフォルト表示
    printf("%.1f\n"123.456);    //小数点以下1桁表示
    printf("%.2f\n"123.456);    //小数点以下2桁表示
    
    printf("%1f\n"123.456);     //整数1桁表示
    printf("%1.1f\n"123.456);   //整数1桁表示，小数点以下1桁表示

    return 0;
}
```

## 型変換（キャスト）

整数型の変数に代入した値を用いて浮動小数点数を求めたいときがある．その場合，別の型に変換する必要がある．
そのような場合，キャスト演算子`( )`を使用し

```c
(double)a   //(型)式
```

のように書く．

使用例を以下に示す．

```c
#include <stdio.h>

int main(void)
{
    int a, b;   //int型で宣言

    a = 10;     //整数を代入
    b = 5;      //整数を代入

    printf("平均は%fになる．\n", (float)(a + b) / 2);  //キャストで変換している
}
```

また，キャスト演算子`( )`を使用しなくでも整数と実数を計算すると実数になる．

```c
int / float    //整数を実数で割る
float / int    //実数を整数で割る
```

## 練習問題

### 練習問題1

* 下のようになるプログラムを作成してください．
* 平均値の計算の際，キャスト演算子`( )`を使用してください．
* 見本は[practice2_3_1.c](practice2_3_1.c)にあります．

```shell
２つの整数を入力してください：8 5
x + y = 13
x - y = 3
x * y = 40
x / y = 1
x % y = 3
平均値 = 6.500000
```

### 練習問題2

* 下のようになるプログラムを作成してください．
* 小数点以下の表示する長さを調節してください．
* 見本は[practice2_3_2.c](practice2_3_2.c)にあります．

```shell
２つの実数を入力してください：8 5
x + y = 13.000000
x - y = 3.00000
x * y = 40.0000
x / y = 1.600
平均値 = 6.50
```

## 今回の課題

* 下のようになるプログラムを作成してください．
* 変数の宣言の際`float`型で宣言してください．
* また表示する際半径は小数点3桁まで，円周は2桁まで，面積は1桁までで計算してください．

```shell
半径を入力してください：5
半径5.000の円周は31.40です．面積は78.5です．
```

完成したらSlackの新入生教育チャンネルにソースコードを貼り付けてください．
なぜかできない，わからないことがある場合は新入生質問チャンネルで聞いてください．
